# ðŸš€ PokerBoard Deployment Guide

## Free Hosting Options

### Option 1: Vercel + Supabase (Recommended)

#### Step 1: Set up Supabase Database

1. Go to [supabase.com](https://supabase.com)
2. Create a new project
3. Go to Settings â†’ Database
4. Copy your database URL (starts with `postgresql://`)

#### Step 2: Deploy to Vercel

1. Go to [vercel.com](https://vercel.com)
2. Sign up with GitHub
3. Click "Import Project"
4. Select your pokerboard repository
5. Add environment variables:
    - `DATABASE_URL`: Your Supabase database URL
    - `NEXTAUTH_SECRET`: Generate a random string (use: `openssl rand -base64 32`)
    - `NEXTAUTH_URL`: Your Vercel domain (e.g., `https://your-app.vercel.app`)

#### Step 2: Deploy to Vercel

1. Go to [vercel.com](https://vercel.com)
2. Sign up with GitHub
3. Click "Import Project"
4. Select your pokerboard repository
5. **First deployment** - Add these environment variables:
    - `DATABASE_URL`: Your Supabase database URL
    - `NEXTAUTH_SECRET`: Generate a random string (use: `openssl rand -base64 32`)
    - `NEXTAUTH_URL`: Use placeholder `https://pokerboard.vercel.app` (we'll update this)
6. Click "Deploy" and wait for completion

#### Step 3: Update Domain

1. After deployment, Vercel will show your domain (e.g., `https://pokerboard-abc123.vercel.app`)
2. Go to Vercel dashboard â†’ Your project â†’ "Settings" â†’ "Environment Variables"
3. Update `NEXTAUTH_URL` with your actual domain
4. Go to "Deployments" â†’ Click "Redeploy" on the latest deployment

#### Step 4: Deploy Database

1. In Vercel dashboard, go to your project
2. Go to "Functions" tab
3. Run database migration:
    ```bash
    npx prisma migrate deploy
    ```
4. Seed the database:
    ```bash
    npm run db:seed
    ```

### Option 2: Railway (All-in-One)

1. Go to [railway.app](https://railway.app)
2. Connect GitHub
3. Deploy from repository
4. Add PostgreSQL service
5. Set environment variables:
    - `DATABASE_URL`: Auto-generated by Railway
    - `NEXTAUTH_SECRET`: Generate random string
    - `NEXTAUTH_URL`: Your Railway domain

## Environment Variables

Create a `.env.local` file with:

```env
# Database
DATABASE_URL="postgresql://username:password@host:port/database"

# NextAuth.js
NEXTAUTH_URL="https://your-domain.com"
NEXTAUTH_SECRET="your-secret-key-here"

# Optional: Email (if using email features)
EMAIL_SERVER_HOST="smtp.gmail.com"
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER="your-email@gmail.com"
EMAIL_SERVER_PASSWORD="your-app-password"
EMAIL_FROM="your-email@gmail.com"
```

## Pre-Deployment Checklist

-   [ ] Code is pushed to GitHub
-   [ ] Environment variables are set
-   [ ] Database is migrated (`npx prisma migrate deploy`)
-   [ ] Database is seeded (`npm run db:seed`)
-   [ ] Build works locally (`npm run build`)

## Post-Deployment

1. **Test the application** - Make sure all features work
2. **Create admin users** - Use the seed script or create manually
3. **Set up custom domain** (optional)
4. **Configure email** (if using email features)

## Troubleshooting

### Database Connection Issues

-   Check `DATABASE_URL` format
-   Ensure database is accessible from hosting platform
-   Run migrations: `npx prisma migrate deploy`

### Build Failures

-   Check for TypeScript errors: `npm run lint`
-   Ensure all dependencies are in `package.json`
-   Check environment variables are set

### Authentication Issues

-   Verify `NEXTAUTH_SECRET` is set
-   Check `NEXTAUTH_URL` matches your domain
-   Ensure database has proper tables

## Cost Breakdown (Free Tiers)

-   **Vercel**: Free (100GB bandwidth, unlimited deployments)
-   **Supabase**: Free (500MB database, 50MB file storage)
-   **Railway**: $5 credit monthly (usually enough for small apps)

Total: **$0/month** with Vercel + Supabase!
